# 数组常用算法之二分查找

## 基本思路

### 二分查找的前提条件

在使用二分查找的时候有以下两个前提条件需要满足：

1. 数组有序：二分查找算法要求目标数组是有序的，可以是升序或者降序
2. 随机访问：二分查找算法需要能够在常量时间访问数组中的任意元素，通常适用于数组、列表或类似数组的数据结构

### 二分查找的两种思路

1. 假设目标在一个左闭右闭的区间\[left,right]：
    - while(left<=right)要使用<=，因为left==right是有意义的，所以使用<=
    - if(nums\[middle]>target)，right要赋值为middle-1，因为当前的nums\[middle]一定不等于target，那么接下来需要查找的左区间结束下表就是middle-1
2. 假设目标在一个左闭右开的区间\[left,right]：
    - while(left<right)要使用<，因为left==right在[left,right)区间是没有意义的
    - if(nums\[middle)>target，right要赋值为middle，因为当前nums\[middle]
      不等于target，去左区间继续寻找，而寻找区间是左闭右开区间，所以right更新为middle，即下一个查询区间不回去比较nums\[middle]

## 算法实战

题目来源：[LeetCode 704. 二分查找](https://leetcode.cn/problems/binary-search/)

- 思路一：左闭右闭区间 \[left,right]:

```javascript
function binarySearch(nums, target) {
    let left = 0, right = nums.length
    while (left <= right) {
        // (left + right) >> 1 = Math.floor((right + left) / 2)
        const middle = (left + right) >> 1
        if (nums[middle] === target) return middle
        if (nums[middle] > target) {
            right = middle - 1
        } else {
            left = middle + 1
        }
    }
    return -1
}
```

- 思路二： 左闭右开区间 [left,right)

```javascript
function binarySearch(nums, target) {
    let left = 0, right = nums.length
    while (left < right) {
        // (left + right) >> 1 = Math.floor((right + left) / 2)
        const middle = (left + right) >> 1
        if (nums[middle] === target) return middle
        if (nums[middle] > target) {
            right = middle
        } else {
            left = middle + 1
        }
    }
    return -1
}
```

### 试一试

1. [LeetCode 35. 搜索插入位置](https://leetcode.cn/problems/search-insert-position/)

2. [LeetCode 34. 在排序数组中查找元素的第一个和最后一个位置](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/)
